@model IEnumerable<NosTRAILgic.Models.TrailMeetup>

@{
    ViewBag.Title = "Index";
}

<h2>Upcoming Traill Meetup</h2>

<p>
    <button class="btn btn-default" type="button" onclick="location.href='@Url.Action("Create", "TrailMeetup")'">Create New Trail Meetup</button>
</p>

<table class="table table-bordered">

    @{
        int trailCount = 0;
        
        foreach (var item in Model)
        {
            if (trailCount % 5 == 0)
            {
                @Html.Raw("<tr>");
            }

            @Html.Raw("<td width='20 %'>");
            
            <ul style="list-style-type : none">
                <li><img src="/Content/Upload/@Url.Content(item.ImageLink)" style = "height: 100px; width: 100px" /></li>
                <li>@item.Name</li>
                <li>@item.Date.ToShortDateString()</li>
                <li>@item.TimeFrom.ToShortTimeString() - @item.TimeTo.ToShortTimeString()</li>
                <li>Max Participants: @item.Limit</li>
                <li>@Html.ActionLink("Details", "Details_ViewModel", new { id = item.TrailMeetupID }, new { @class = "btn btn-default" })</li>
            </ul>    
            
            @Html.Raw("</td>");

            if (trailCount % 5 == 4)
            {
                @Html.Raw("</tr>");
            }
            trailCount++;
        }

    }
</table>